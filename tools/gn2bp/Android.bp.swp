// Copyright (C) 2022 The Android Open Source Project
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// This file is automatically generated by gen_android_bp. Do not edit.

// GN: //base:base_static
cc_library_static {
    name: "cronet_aml_base_base_static",
    srcs: [
        "base/base_switches.cc",
    ],
    generated_headers: [
        "cronet_aml_build_chromeos_buildflags",
    ],
    export_generated_headers: [
        "cronet_aml_build_chromeos_buildflags",
    ],
    defaults: [
        "cronet_aml_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r23_1",
        "-DCR_CLANG_REVISION=\"llvmorg-16-init-8697-g60809cd2-1\"",
        "-DCR_LIBCXX_REVISION=47b31179d10646029c260702650a25d24f555acc",
        "-DDCHECK_ALWAYS_ON=1",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=1",
        "-DHAVE_SYS_UIO_H",
        "-D_DEBUG",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_AVAILABILITY_CUSTOM_VERBOSE_ABORT_PROVIDED=1",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_ENABLE_ASSERTIONS_DEFAULT=1",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
    ],
    local_include_dirs: [
        "./",
        "buildtools/third_party/libc++/",
        "out/test/gen/",
    ],
}

// GN: //base:build_date
genrule {
    name: "cronet_aml_base_build_date",
    cmd: "$(location build/write_build_date_header.py) $(out) 1664686800",
    out: [
        "base/generated_build_date.h",
    ],
    tool_files: [
        "build/write_build_date_header.py",
    ],
}

// GN: //build:buildflag_header_h
filegroup {
    name: "cronet_aml_build_buildflag_header_h",
}

// GN: //build:chromeos_buildflags
genrule {
    name: "cronet_aml_build_chromeos_buildflags",
    cmd: "echo '--flags IS_CHROMEOS_DEVICE=false IS_CHROMEOS_LACROS=false IS_CHROMEOS_ASH=false IS_CHROMEOS_WITH_HW_DETAILS=false IS_REVEN=false' | $(location build/write_buildflag_header.py) --output $(out) --rulename //build:chromeos_buildflags --gen-dir . --definitions /dev/stdin",
    out: [
        "build/chromeos_buildflags.h",
    ],
    tool_files: [
        "build/write_buildflag_header.py",
    ],
}

// GN: //gn:default_deps
cc_defaults {
    name: "cronet_aml_defaults",
    cflags: [
        "-O2",
        "-Wno-error=return-type",
        "-Wno-sign-compare",
        "-Wno-sign-promo",
        "-Wno-unused-parameter",
        "-fvisibility=hidden",
    ],
}

// GN: //third_party/android_ndk:cpu_features
filegroup {
    name: "cronet_aml_third_party_android_ndk_cpu_features",
    srcs: [
        "third_party/android_ndk/sources/android/cpufeatures/cpu-features.c",
    ],
}

// GN: //third_party/libevent:libevent
cc_library_static {
    name: "cronet_aml_third_party_libevent_libevent",
    srcs: [
        "third_party/libevent/buffer.c",
        "third_party/libevent/epoll.c",
        "third_party/libevent/evbuffer.c",
        "third_party/libevent/evdns.c",
        "third_party/libevent/event.c",
        "third_party/libevent/event_tagging.c",
        "third_party/libevent/evrpc.c",
        "third_party/libevent/evutil.c",
        "third_party/libevent/http.c",
        "third_party/libevent/log.c",
        "third_party/libevent/poll.c",
        "third_party/libevent/select.c",
        "third_party/libevent/signal.c",
        "third_party/libevent/strlcpy.c",
    ],
    defaults: [
        "cronet_aml_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r23_1",
        "-DCR_CLANG_REVISION=\"llvmorg-16-init-8697-g60809cd2-1\"",
        "-DCR_LIBCXX_REVISION=47b31179d10646029c260702650a25d24f555acc",
        "-DDCHECK_ALWAYS_ON=1",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=1",
        "-DHAVE_CONFIG_H",
        "-DHAVE_SYS_UIO_H",
        "-D_DEBUG",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_AVAILABILITY_CUSTOM_VERBOSE_ABORT_PROVIDED=1",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_ENABLE_ASSERTIONS_DEFAULT=1",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
    ],
    local_include_dirs: [
        "./",
        "buildtools/third_party/libc++/",
        "out/test/gen/",
        "third_party/libevent/android/",
    ],
}

// GN: //third_party/zlib:zlib
cc_library_static {
    name: "cronet_aml_third_party_zlib_zlib",
    srcs: [
        ":cronet_aml_third_party_android_ndk_cpu_features",
        "third_party/zlib/adler32.c",
        "third_party/zlib/compress.c",
        "third_party/zlib/cpu_features.c",
        "third_party/zlib/crc32.c",
        "third_party/zlib/deflate.c",
        "third_party/zlib/gzclose.c",
        "third_party/zlib/gzlib.c",
        "third_party/zlib/gzread.c",
        "third_party/zlib/gzwrite.c",
        "third_party/zlib/infback.c",
        "third_party/zlib/inffast.c",
        "third_party/zlib/inflate.c",
        "third_party/zlib/inftrees.c",
        "third_party/zlib/trees.c",
        "third_party/zlib/uncompr.c",
        "third_party/zlib/zutil.c",
    ],
    defaults: [
        "cronet_aml_defaults",
    ],
    cflags: [
        "-DANDROID",
        "-DANDROID_NDK_VERSION_ROLL=r23_1",
        "-DCPU_NO_SIMD",
        "-DCR_CLANG_REVISION=\"llvmorg-16-init-8697-g60809cd2-1\"",
        "-DCR_LIBCXX_REVISION=47b31179d10646029c260702650a25d24f555acc",
        "-DDCHECK_ALWAYS_ON=1",
        "-DDYNAMIC_ANNOTATIONS_ENABLED=1",
        "-DHAVE_SYS_UIO_H",
        "-DZLIB_DEBUG",
        "-DZLIB_IMPLEMENTATION",
        "-D_DEBUG",
        "-D_GNU_SOURCE",
        "-D_LIBCPP_AVAILABILITY_CUSTOM_VERBOSE_ABORT_PROVIDED=1",
        "-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS",
        "-D_LIBCPP_ENABLE_ASSERTIONS_DEFAULT=1",
        "-D_LIBCXXABI_DISABLE_VISIBILITY_ANNOTATIONS",
    ],
    local_include_dirs: [
        "./",
        "buildtools/third_party/libc++/",
        "out/test/gen/",
        "third_party/android_ndk/sources/android/cpufeatures/",
        "third_party/zlib/",
    ],
}

